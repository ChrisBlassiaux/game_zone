<div class="page-header">
	<h1>Découvrez par accessibilité</h1>
	<%= link_to static_pages_go_to_the_park_path, :class => "btn" do %>
			Preparer ma visite
	<% end %>
</div>
<div class="container">
		<section class="informations-go-to-the-park">
			<h2 class="title-go-to-the-park">SE RENDRE AU PARC</h2>
			<div class="information-blablacar">
				<div class="first-div">
					<%= image_tag "cars.png" %>
					<h3>Calculer votre intinéraire en voiture</h3>
				</div>
				<p>N’oubliez pas, vous pouvez également covoiturer avec notre partenaire <span>BlaBlacar</span>  !</p>
				<div class="start">
					<p>
						Arrivée: <br>
						<span class="game"> GAME ZONE</span> <br>
						787 rue AZERTY
					</p>
				</div>
			</div>
			<div class="sncf">
				<div class="first-div">
					<%= image_tag "train.png" %>
					<h3>Venir en train</h3>
				</div>
				<p>Accès : gare du Nord Paris</p>
				<p>Commandez votre trajet en ligne sur le site de la
					<a href="https://www.sncf.com/fr"> sncf.fr</a> 
					ou au guichet ou automates au sein de votre gare</p>
			</div>
		</section>
		<section class="map">
			<div id="carte"></div>
		</section>
	</div>

  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		crossorigin=""></script>

	<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

	<script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>

	<script>
		navigator.geolocation.getCurrentPosition(showPosition);

		let longitude = 0;
		let latitude = 0;

		function showPosition(position) {
			latitude = position.coords.latitude;
			longitude = position.coords.longitude;

			let carte = L.map("carte").setView([48.852969, 2.349903],13)
			L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png',).addTo(carte)
			L.routing.control({
				waypoints: [
					L.latLng(latitude, longitude ),
					L.latLng(48.871900, 2.776623)
			],
				geocoder: L.Control.Geocoder.nominatim(),
				lineOptions: {
					styles: [{
						color: '#C9116A',
						opacity: 1,
					}]
				},
				router: new L.Routing.osrmv1({
					language: 'fr'
				})
			}).addTo(carte)
		} 
	</script>